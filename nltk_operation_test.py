# coding: utf-8
__author__ = 'tuomao'
from nltk.corpus import brown, wordnet
import nltk
from nltk.stem import SnowballStemmer, WordNetLemmatizer

nltk.data.path.append('K:/nltk_resources')

sentence = """At eight o'clock on Thursday morning Arthur didn't feel very good."""


def get_wordnet_pos(treebank_tag):
    if treebank_tag.startswith('J'):
        return wordnet.ADJ
    elif treebank_tag.startswith('V'):
        return wordnet.VERB
    elif treebank_tag.startswith('N'):
        return wordnet.NOUN
    elif treebank_tag.startswith('R'):
        return wordnet.ADV
    else:
        return None


def lemmatize_sentence(sentence):
    res = []
    lemmatizer = WordNetLemmatizer()
    for word, pos in nltk.pos_tag(nltk.word_tokenize(sentence)):
        if pos.startswith('V') or pos.startswith('N'):
            wordnet_pos = get_wordnet_pos(pos) or wordnet.NOUN
            res.append(lemmatizer.lemmatize(word, pos=wordnet_pos))

    return ' '.join(res)

print(lemmatize_sentence(sentence))